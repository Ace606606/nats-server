# Порт для клиентов (C++, Python)
port: 4222

# Порт для мониторинга (очень полезная штука, возвращает JSON metrics)
http_port: 8222

# Имя сервера (удобно для кластера)
server_name: "my-nats-server"

# --- Важная часть для миграции с RabbitMQ ---
# JetStream - это подсистема Persistence (хранение сообщений на диске/в памяти).
# Без этого NATS работает как "fire-and-forget" (как UDP, только надежнее).
jetstream {
    store_dir: "./nats-data"  # Куда сохранять сообщения
    max_memory_store: 1G      # Лимит памяти
    max_file_store: 10G       # Лимит диска
}

# --- Безопасность (базовая) ---
# Можно настроить пользователей
authorization {
  users = [
    {
      user: "admin"
      password: "secure_password"
      permissions = {
        publish = ">"     # разрешить публикацию во все subjects
        subscribe = ">"   # и подписку на всё
    }
    },
    {
      user: "service_a"
      password: "password_a"
      # без блока permissions = полный доступ (по умолчанию)
    }
  ]
}